Даниил, приветствую!

Спасибо за подроное ревью в работы. Если чесстно то я не смог придумать как оптимизировать работу с признаками трека в цикле через векторные операции. 
Если можно, то подскажи какое решение можно было бы применить.
Я попробовал оптимизировать свой код : 
1. Из большого датасета сразу выбираются события относящиеся к конкретному пользователю
2. Для быстрой обработки признаков на я разделяю признаки в отдельные массивы чтобы по индексам присвоить веса соответствующим трекам

возможно есть быстрое решение но я его пока не вижу